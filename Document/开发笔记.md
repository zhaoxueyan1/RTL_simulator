# 开发笔记

# 0. TODO LIST

- BenchMark   ----玖阳，子豪学长
- DAC2020 Paper ----暂时不给
- essnet代码 ---没有完整版
- profilling -----檀励
- Initial版本 ----赵雪岩
  - 最后的对接部分 设计输出与输入基本完成
  - 

# 1. 问题列表

## 1.1 提取的核心数据结构

- Reg 前驱节点个数
- Comb 当前节点个数


- 版本一 ： 
  - **为寄存器输出输出一个表达式的后序遍历** 一般不会超过10级
      - 好处：容易进行后续的SIMD，或者Partition
      - 坏处：解释执行，增加访存
  - 为寄存器输出一个C++代码 
    - 好处：编译执行，速度有优势
    - 坏处：不够灵活，后续优化困难

- 版本二 ： 为所有组合逻辑生成一个单独的节点即使有很多个，也如此进行计算
    - 

## 1.2 Node 与 Wire的区别

Wire 与Node 都是组合逻辑。
- Node 为被动类型，且需要被初始化
- Wire 需要定义,并且可以被连接

解决方案：
- 在DefNode的时候推断当前类型，化为Wire节点

source ：input port, instance, memory, node
sink ：output port
duplex：register, wire

**关于组合环的问题**

```Verilog

register a,b
wire c,d
c = d+a
d = c+b

```

## 1.3 类型与操作的实现

- 版本一： 实现每个类型的模板，为每个类型重载运算符
- 版本二： 实现每个类型的模板，为所有的操作重载模板函数
- 版本三： 不实现类型的模板，只用指针进行操作，写死组合逻辑，并在中间加入显示类型转换

## 1.4 Summary

总结，为每个类型实现模板，实现模板函数。


## 1.5 输出的图的数据结构

- 版本一：使用类似逆波兰表达式，为寄存器和 OutputPort 唯一的的表示
- 版本二：组合逻辑作为中间节点，采用互联关系

# 往前看一步


# Issues

